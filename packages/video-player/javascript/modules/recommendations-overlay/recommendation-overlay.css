/**
 * NEW STYLESHEET for Recommendations Overlay
 * Implements a responsive, 2-column, scrollable grid.
 */

/* 1. Main Overlay: This is now the scroll container */
.vjs-recommendations-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.85); /* Darker for more focus */
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start; /* Align grid to the top */
    z-index: 1000;
    padding: 4vw; /* Use responsive padding */
    box-sizing: border-box;
  
    /* --- Standard scrolling enabled --- */
    overflow-y: auto;
    -ms-overflow-style: none;  /* Hide scrollbar on IE/Edge */
    scrollbar-width: none;  /* Hide scrollbar on Firefox */
  }
  
  .vjs-recommendations-overlay::-webkit-scrollbar {
    display: none; /* Hide scrollbar on Chrome/Safari */
  }
  
  /* 2. Close Button: Styled for consistency */
  .vjs-rec-close {
    position: absolute;
    top: 0.5em;
    right: 0.5em;
    background: rgba(43, 51, 63, 0.7);
    border: none;
    color: #fff;
    font-size: 1.5em;
    line-height: 1.5em;
    width: 1.5em;
    height: 1.5em;
    border-radius: 50%;
    cursor: pointer;
    z-index: 1001; /* Must be above the grid */
    transition: background-color 0.2s, transform 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .vjs-rec-close:hover {
    background-color: rgba(60, 70, 80, 0.9);
    transform: scale(1.1);
  }
  
  /* 3. Grid Container: The heart of the new layout */
  .vjs-rec-list {
    display: grid;
    /* Two equal-width columns */
    grid-template-columns: repeat(2, 1fr); 
    /* Vertical gap is less than horizontal, using responsive units */
    gap: 2vw 3vw; 
    width: 100%;
    max-width: 1000px; /* Prevents grid from looking too sparse on ultra-wide screens */
  }
  
  /* 4. Grid Item: Each recommendation card */
  .vjs-rec-item {
    position: relative; /* For the title overlay */
    width: 100%;      /* Takes full width of its grid column */
    color: #fff;
    text-decoration: none;
    border-radius: 4px;
    overflow: hidden;
    cursor: pointer;
    transition: transform 0.25s ease-in-out;
    border: 1px solid rgba(255, 255, 255, 0.4); 
  }
  .vjs-rec-item:hover {
    transform: scale(1.04); /* Subtle zoom hover effect */
    border: 1px solid rgba(255, 255, 255, 1); 
  }
  
  /* 5. Thumbnail: Uses aspect-ratio to prevent layout shift */
  .vjs-rec-item .vjs-rec-thumb {
    width: 100%;
    background-size: cover;
    background-position: center;
    aspect-ratio: 16/9; /* Ensures consistent shape */
  }
  
  /* 6. Title Label: Styled to overlay the thumbnail */
  .vjs-rec-item .vjs-rec-title {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    padding: 1.5em 0.8em 0.8em 0.8em;
    font-size: 1.6em; /* Relative to player font size */
    text-align: left;
    color: #fff;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    text-shadow: 1px 1px 2px black, -1px 1px 2px black, 1px -1px 2px black, -1px -1px 2px black;
  }


  /* Add these new rules to your stylesheet */

/* 5a. Spinner for loading thumbnail */
.vjs-rec-thumb-spinner {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 2em;
  height: 2em;
  margin: -1em 0 0 -1em;
  border: 3px solid rgba(255, 255, 255, 0.2);
  border-top-color: #fff;
  border-radius: 50%;
  animation: vjs-rec-spin 1s linear infinite;
}

/* 5b. Placeholder for failed thumbnail */
.vjs-rec-thumb-placeholder {
  background-color: #2a2a2a;
  /* You could also add a placeholder icon using a ::before pseudo-element */
}

/* Animation keyframes for the spinner */
@keyframes vjs-rec-spin {
  to {
    transform: rotate(360deg);
  }
}